# ========================
# UrSaviour AWS Production Environment Variables
# Copy this file to .env on your EC2 instance
# ========================

# ===== AWS RDS Database Configuration =====
# MySQL Database Connection
DATABASE_URL=mysql://admin:YOUR_RDS_PASSWORD@ursaviour-db.cp4emoqegwfy.ap-southeast-2.rds.amazonaws.com:3306/ursaviour
DB_HOST=ursaviour-db.cp4emoqegwfy.ap-southeast-2.rds.amazonaws.com
DB_PORT=3306
DB_NAME=ursaviour
DB_USER=admin
DB_PASSWORD=YOUR_RDS_PASSWORD

# ===== Redis Configuration (Docker Container) =====
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# ===== JWT Authentication =====
# Generate a secure secret key: python -c "from secrets import token_urlsafe; print(token_urlsafe(32))"
SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ===== CORS Configuration =====
# Frontend origins allowed to access the API (실제 도메인으로 변경 필요)
BACKEND_CORS_ORIGINS=["http://YOUR_EC2_IP", "https://YOUR_DOMAIN.com", "http://YOUR_DOMAIN.com"]

# ===== OpenAI API Configuration =====
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000

# ===== Email Configuration =====
# SMTP settings for sending notifications
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
FROM_EMAIL=noreply@ursaviour.com
FROM_NAME="UrSaviour Team"

# ===== File Upload Configuration =====
# Maximum file size for PDF uploads (in bytes)
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_DIR=data/uploads

# ===== ETL Configuration =====
# PDF processing settings
PDF_PROCESSING_TIMEOUT=300  # 5 minutes
ETL_BATCH_SIZE=1000
ETL_LOG_LEVEL=INFO

# ===== API Configuration =====
# FastAPI settings (프로덕션용)
API_V1_STR="/api/v1"
PROJECT_NAME="UrSaviour API"
DEBUG=False
ENVIRONMENT=production
API_HOST=0.0.0.0
API_PORT=8000

# ===== Frontend Configuration =====
FRONTEND_URL=http://YOUR_EC2_IP
FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=80

# ===== AWS Configuration (프로덕션용) =====
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_REGION=ap-southeast-2
AWS_S3_BUCKET=ursaviour-files
AWS_RDS_ENDPOINT=ursaviour-db.cp4emoqegwfy.ap-southeast-2.rds.amazonaws.com

# ===== Monitoring & Logging =====
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
SENTRY_DSN=""  # Optional: Sentry for error tracking

# ===== Security Configuration =====
# Password requirements
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=True
REQUIRE_LOWERCASE=True  
REQUIRE_NUMBERS=True
REQUIRE_SPECIAL_CHARS=True

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60  # seconds

# ===== Cache Configuration =====
CACHE_TTL=3600  # 1 hour
CACHE_PREFIX="ursaviour:"

# ===== Production Settings =====
DEBUG=False
ENABLE_DEBUG_ROUTES=False
ENABLE_API_DOCS=True
ENABLE_MOCK_DATA=False
USE_HTTPS=False  # SSL 설정 후 True로 변경
SECURE_COOKIES=False  # HTTPS 활성화 후 True로 변경

# ===== Security Configuration =====
SECRET_KEY=YOUR_SUPER_SECRET_JWT_KEY_GENERATE_NEW_ONE
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30