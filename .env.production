# ========================
# Production Environment Configuration for AWS/EC2
# Copy this file to .env for production deployment
# ========================

# ===== Application Environment =====
APP_ENV=prod
DEBUG=False

# ===== Database Configuration (AWS RDS) =====
# Replace with your actual RDS endpoint and credentials
DATABASE_URL=mysql://username:password@your-rds-endpoint.cluster-xxxx.ap-southeast-2.rds.amazonaws.com:3306/ursaviour?charset=utf8mb4&ssl_mode=REQUIRED

# Alternative: Individual DB settings
# DB_HOST=your-rds-endpoint.cluster-xxxx.ap-southeast-2.rds.amazonaws.com  
# DB_PORT=3306
# DB_NAME=ursaviour
# DB_USER=admin
# DB_PASSWORD=your-secure-password
# DB_SSL_MODE=REQUIRED
# DB_CHARSET=utf8mb4

# ===== CORS Configuration =====
# Production domain configuration
BACKEND_CORS_ORIGINS=["https://ursaviour.com", "http://ursaviour.com", "https://www.ursaviour.com", "http://www.ursaviour.com"]

# ===== JWT Authentication =====
# Generate a secure secret key: python -c "from secrets import token_urlsafe; print(token_urlsafe(32))"
SECRET_KEY=your-super-secure-jwt-key-for-production-min-32-chars-long
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# ===== AWS Configuration =====
AWS_REGION=ap-southeast-2
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# S3 Configuration
S3_BUCKET_NAME=ursaviour-pamphlets-prod
S3_PREFIX=prod

# ===== OpenAI API Configuration =====
OPENAI_API_KEY=your-openai-api-key-from-platform-openai-com
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000

# ===== Email Configuration (AWS SES or SMTP) =====
# AWS SES
SMTP_HOST=email-smtp.ap-southeast-2.amazonaws.com
SMTP_PORT=587
SMTP_USER=your-ses-smtp-username
SMTP_PASSWORD=your-ses-smtp-password

# Email settings
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME="UrSaviour"
MAIL_FROM=noreply@yourdomain.com

# ===== Redis Configuration (AWS ElastiCache) =====
REDIS_URL=redis://your-elasticache-endpoint.cache.amazonaws.com:6379/0
# Or individual settings:
# REDIS_HOST=your-elasticache-endpoint.cache.amazonaws.com
# REDIS_PORT=6379
# REDIS_DB=0

# ===== API Configuration =====
API_V1_STR=/api/v1
PROJECT_NAME=UrSaviour API
API_HOST=0.0.0.0
API_PORT=8000

# ===== Frontend Configuration =====
FRONTEND_URL=https://yourdomain.com

# ===== File Upload Configuration =====
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_DIR=/data/uploads

# ===== ETL Configuration =====
PDF_PROCESSING_TIMEOUT=300
ETL_BATCH_SIZE=1000
ETL_LOG_LEVEL=INFO
STORAGE_BACKEND=s3

# ===== Monitoring & Logging =====
LOG_LEVEL=INFO
LOG_FILE=/var/log/ursaviour/app.log

# Sentry for error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ===== Security Configuration =====
# Password requirements
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=True
REQUIRE_LOWERCASE=True
REQUIRE_NUMBERS=True
REQUIRE_SPECIAL_CHARS=True

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ===== Cache Configuration =====
CACHE_TTL=3600
CACHE_PREFIX="ursaviour:prod:"

# ===== Production Security Settings =====
USE_HTTPS=True
SECURE_COOKIES=True
ENABLE_DEBUG_ROUTES=False
ENABLE_API_DOCS=True
ENABLE_MOCK_DATA=False

# ===== Health Check Configuration =====
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3